<script>
  const profile = {{{profileJson}}};
</script>

<!-- Profile -->
<section class="bg-main">
  <div class="x-limit">
    <div class="split stack y-center">
      <img class="profile-image border" src="data:image/png;base64,{{{profile.image}}}">

      <div class="grow">
        <h2>{{profile.name}}</h2>

        <p>
          <strong>Global Rank</strong>
          <span>#{{profile.rank}}</span>
        </p>

        <p>
          <strong>Collins Rating</strong>
          <span>{{profile.rating}}</span>
        </p>

        <p>
          <strong>Career Record</strong>
          <span>{{profile.stats.match.win}}-{{profile.stats.match.loss}}-{{profile.stats.match.otl}}</span>
        </p>
      </div>
    </div>

  {{#profile.about}}
  <p>
    <strong>Biography</strong>
  </p>

  <p>{{profile.about}}</p>
  {{/profile.about}}
  </div>
</section>

<!-- Stats Highlight -->
<section class="bg-dark">
  <div class="x-limit">
    <div class="split stack">
      <div class="grow stretch card text-center no-break">
        <div class="chartWrap">
          <canvas id="chartAverageScore"></canvas>
        </div>

        <p class="text-lg">{{profile.stats.match.averageScore}}</p>

        <p>
          <strong>Average Score</strong>
        </p>

        <p>{{profile.stats.match.totalScore}} Total Points</p>
      </div>

      <div class="grow stretch card text-center no-break">
        <div class="chartWrap">
          <canvas id="chartWinPercent"></canvas>
        </div>

        <p class="text-lg">{{profile.stats.match.winPercent}}%</p>

        <p>
          <strong>Win Rate</strong>
        </p>

        <p>{{profile.stats.match.win}} / {{profile.stats.match.count}} Matches</p>
      </div>

      <div class="grow stretch card text-center no-break">
        <div class="chartWrap">
          <canvas id="chartBigAxeWinPercent"></canvas>
        </div>

        <p class="text-lg">{{profile.stats.bigAxe.roundWinPercent}}%</p>

        <p>
          <strong>Big Axe Win Rate</strong>
        </p>

        <p>{{profile.stats.bigAxe.roundWin}} / {{profile.stats.bigAxe.roundCount}} Rounds</p>
      </div>
    </div>
  </div>

  <script>
    statArc('chartAverageScore', 81, profile.stats.match.averageScore);
    statArc('chartWinPercent', 100, profile.stats.match.winPercent);
    statArc('chartBigAxeWinPercent', 100, profile.stats.bigAxe.roundWinPercent);
  </script>
</section>

<!-- Hatchet Accuracy -->
<section>
  <div class="x-limit">
    <h2>Hatchet Accuracy</h2>

    <div class="split stack">
      <div class="grow card text-center no-break">
        <div class="chartWrap">
          <canvas id="hatchetBullseyeChart"></canvas>
        </div>

        <p class="text-lg">{{profile.stats.hatchet.target.fivePercent}}%</p>

        <p>
          <strong>Bullseye Accuracy</strong>
        </p>

        <p>{{profile.stats.hatchet.target.five}} / {{profile.stats.hatchet.target.throwCount}} Throws</p>
      </div>

      <div class="grow card text-center no-break">
        <div class="chartWrap">
          <canvas id="hatchetClutchHitChart"></canvas>
        </div>

        <p class="text-lg">{{profile.stats.hatchet.clutch.hitPercent}}%</p>

        <p>
          <strong>Clutch Accuracy</strong>
        </p>

        <p>{{profile.stats.hatchet.clutch.hit}} / {{profile.stats.hatchet.clutch.call}} Calls</p>
      </div>

      <div class="grow card text-center no-break">
        <div class="chartWrap">
          <canvas id="hatchetClutchCallChart"></canvas>
        </div>

        <p class="text-lg">{{profile.stats.hatchet.clutch.callPercent}}%</p>

        <p>
          <strong>Clutch Call Rate</strong>
        </p>

        <p>{{profile.stats.hatchet.clutch.call}} / {{profile.stats.hatchet.roundCount}} Rounds</p>
      </div>

      <div class="targetStats">
        <div class="clutch">
          <div class="dot"></div>

          <span>{{profile.stats.hatchet.clutch.hit}}</span>

          <div class="dot"></div>
        </div>

        <br>

        <div class="target">
          <div class="ring one">
            <span class="label">&nbsp;</span>

            <div class="ring three">
              <span class="label">&nbsp;</span>

              <div class="ring five">
                <span class="label">{{profile.stats.hatchet.target.five}}</span>
              </div>

              <span class="label">{{profile.stats.hatchet.target.three}}</span>
            </div>

            <span class="label">{{profile.stats.hatchet.target.one}}</span>
          </div>
        </div>

        <br>

        <span class="label">{{profile.stats.hatchet.target.drop}} Drops</span>
      </div>
    </div>
  </div>

  <script>
    statArc('hatchetBullseyeChart', 100, profile.stats.hatchet.target.fivePercent);
    statArc('hatchetClutchHitChart', 100, profile.stats.hatchet.clutch.hitPercent);
    statArc('hatchetClutchCallChart', 100, profile.stats.hatchet.clutch.callPercent);
  </script>
</section>

<!-- Big Axe Accuracy -->
<section>
  <div class="x-limit">
    <h2>Big Axe Accuracy</h2>

    <details>
      <summary>Details</summary>

      <div class="split stack">
        <div class="targetStats">
          <div class="clutch">
            <div class="dot"></div>

            <span>{{profile.stats.bigAxe.clutch.hit}}</span>

            <div class="dot"></div>
          </div>

          <br>

          <div class="target">
            <div class="ring one">
              <span class="label">&nbsp;</span>

              <div class="ring three">
                <span class="label">&nbsp;</span>

                <div class="ring five">
                  <span class="label">{{profile.stats.bigAxe.target.five}}</span>
                </div>

                <span class="label">{{profile.stats.bigAxe.target.three}}</span>
              </div>

              <span class="label">{{profile.stats.bigAxe.target.one}}</span>
            </div>
          </div>

          <br>

          <span class="label">{{profile.stats.bigAxe.target.drop}} Drops</span>
        </div>

        <div class="grow">
          <figure>
            <table class="text-center">
              <tbody>
                <tr>
                  <th class="no-wrap">Clutch Accuracy</th>
                  <td class="no-wrap">
                    <strong>{{profile.stats.bigAxe.clutch.hitPercent}}%</strong>
                  </td>
                  <td class="no-wrap text-left maximize">{{profile.stats.bigAxe.clutch.hit}} Hits / {{profile.stats.bigAxe.clutch.call}} Throws</td>
                </tr>

                <tr>
                  <th class="no-wrap">Bullseye Accuracy</th>
                  <td class="no-wrap">
                    <strong>{{profile.stats.bigAxe.target.fivePercent}}%</strong>
                  </td>
                  <td class="no-wrap text-left maximize">{{profile.stats.bigAxe.target.five}} Hits / {{profile.stats.bigAxe.target.throwCount}} Throws</td>
                </tr>

                <tr>
                  <th class="no-wrap">Score Per Axe</th>
                  <td class="no-wrap">
                    <strong>{{profile.stats.bigAxe.scorePerThrow}}</strong>
                  </td>
                  <td class="no-wrap text-left maximize">{{profile.stats.bigAxe.totalScore}} Points / {{profile.stats.bigAxe.throwCount}} Throws</td>
                </tr>

                <tr>
                  <th class="no-wrap">Bullseye EV</th>
                  <td class="no-wrap">
                    <strong>{{profile.stats.bigAxe.target.ev}}</strong>
                  </td>
                  <td class="no-wrap text-left maximize">{{profile.stats.bigAxe.target.totalScore}} Points / {{profile.stats.bigAxe.target.throwCount}} Throws</td>
                </tr>

                <tr>
                  <th class="no-wrap">Clutch EV</th>
                  <td class="no-wrap">
                    <strong>{{profile.stats.bigAxe.clutch.ev}}</strong>
                  </td>
                  <td class="no-wrap text-left maximize">{{profile.stats.bigAxe.clutch.totalScore}} Points / {{profile.stats.bigAxe.clutch.call}} Throws</td>
                </tr>
              </tbody>
            </table>
          </figure>
        </div>
      </div>
    </details>

    <div class="split stack">
      <div class="grow stretch card text-center no-break">
        <div class="chartWrap">
          <canvas id="bigAxeBullseyeChart"></canvas>
        </div>

        <p class="text-lg">{{profile.stats.bigAxe.target.fivePercent}}%</p>

        <p>
          <strong>Bullseye Accuracy</strong>
        </p>

        <p>{{profile.stats.bigAxe.target.five}} / {{profile.stats.bigAxe.target.throwCount}} Throws</p>
      </div>

      <div class="grow stretch card text-center no-break">
        <div class="chartWrap">
          <canvas id="bigAxeClutchHitChart"></canvas>
        </div>

        <p class="text-lg">{{profile.stats.bigAxe.clutch.hitPercent}}%</p>

        <p>
          <strong>Clutch Accuracy</strong>
        </p>

        <p>{{profile.stats.bigAxe.clutch.hit}} / {{profile.stats.bigAxe.clutch.call}} Calls</p>
      </div>
    </div>
  </div>

  <script>
    statArc('bigAxeBullseyeChart', 100, profile.stats.bigAxe.target.fivePercent);
    statArc('bigAxeClutchHitChart', 100, profile.stats.bigAxe.clutch.hitPercent);
  </script>
</section>

<!-- Match Outcomes -->
<section>
  <div class="x-limit">
    <h2>Match Outcomes</h2>

    <details>
      <summary>Details</summary>

      <p>Losses and OTLs are displayed separately in your career record, but wins are displayed as a single value whether you won the match outright or won the Big Axe tiebreaker.</p>
    </details>

    <div class="split stack">
      <div class="grow">
        <div class="chartWrap">
          <canvas id="matchOutcomeChart"></canvas>
        </div>
      </div>

      <div class="grow">
        <figure>
          <table class="text-center">
            <tbody>
              <tr>
                <th class="no-wrap">Hatchet Wins</th>
                <td class="no-wrap text-left maximize">
                  <strong>{{profile.stats.match.winWithoutBigAxe}}</strong>
                </td>
              </tr>

              <tr>
                <th class="no-wrap">Big Axe Wins</th>
                <td class="no-wrap text-left maximize">
                  <strong>{{profile.stats.bigAxe.roundWin}}</strong>
                </td>
              </tr>

              <tr>
                <th class="no-wrap">Hatchet Losses</th>
                <td class="no-wrap text-left maximize">
                  <strong>{{profile.stats.match.loss}}</strong>
                </td>
              </tr>

              <tr>
                <th class="no-wrap">Big Axe Losses</th>
                <td class="no-wrap text-left maximize">
                  <strong>{{profile.stats.bigAxe.roundLoss}}</strong>
                </td>
              </tr>
            </tbody>
          </table>
        </figure>
      </div>
    </div>
  </div>

  <script>
    new Chart(document.getElementById('matchOutcomeChart'), {
      type: 'doughnut',
      options: {
        //
      },
      data: {
        labels: ['Hatchet Wins', 'Big Axe Wins', 'Hatchet Losses', 'Big Axe Losses'],
        datasets: [{
          data: [
            profile.stats.match.winWithoutBigAxe,
            profile.stats.bigAxe.roundWin,
            profile.stats.match.loss,
            profile.stats.bigAxe.roundLoss
          ]
        }]
      }
    });
  </script>
</section>

<!-- Round Outcomes -->
<section>
  <div class="x-limit">
    <h2>Round Outcomes</h2>

    <details>
      <summary>Details</summary>

      <p>When looking at just your match win rate, it can be hard to get a clear picture of your performance in each match. Because of the "Best 2 of 3 Rounds" rule in IATF, a match win could consist of 0, 1, 2, or 3 round wins with a hatchet and a potential round win with a Big Axe:</p>

      <ul>
        <li>Win no rounds, tie all three, win the Big Axe tiebreaker</li>
        <li>Win one round, lose one round, win the Big Axe tiebreaker</li>
        <li>Win one round, tie two rounds</li>
        <li>Win two rounds, lose or tie a round</li>
        <li>Win all three rounds</li>
      </ul>
    </details>

    <figure>
      <table class="text-center" style="table-layout: fixed;">
        <tbody>
          <tr>
            <th class="no-wrap">Hatchet Wins</th>
            <td>{{profile.stats.hatchet.roundWin}}</td>
            <td>{{profile.stats.hatchet.roundWinPercent}}%</td>
          </tr>

          <tr>
            <th class="no-wrap">Hatchet Losses</th>
            <td>{{profile.stats.hatchet.roundLoss}}</td>
            <td>{{profile.stats.hatchet.roundLossPercent}}%</td>
          </tr>

          <tr>
            <th class="no-wrap">Hatchet Ties</th>
            <td>{{profile.stats.hatchet.roundTie}}</td>
            <td>{{profile.stats.hatchet.roundTiePercent}}%</td>
          </tr>

          <tr>
            <th class="no-wrap">Big Axe Wins</th>
            <td>{{profile.stats.bigAxe.roundWin}}</td>
            <td>{{profile.stats.bigAxe.roundWinPercent}}%</td>
          </tr>

          <tr>
            <th class="no-wrap">Big Axe Losses</th>
            <td>{{profile.stats.bigAxe.roundLoss}}</td>
            <td>{{profile.stats.bigAxe.roundLossPercent}}%</td>
          </tr>
        </tbody>
      </table>
    </figure>
  </div>
</section>

<!-- Playoff Stats -->
<section>
  <div class="x-limit">
    <h2>Playoff Stats</h2>

    <p>Coming soon...</p>
  </div>
</section>